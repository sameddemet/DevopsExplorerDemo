"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[501],{1059:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>c,toc:()=>l});var r=s(5893),t=s(1151);const i={sidebar_position:8},o=void 0,c={id:"Reseaux/TCP et UDP",title:"TCP et UDP",description:"TCP et UDP sont deux piliers des services internet",source:"@site/docs/Reseaux/TCP et UDP.md",sourceDirName:"Reseaux",slug:"/Reseaux/TCP et UDP",permalink:"/docs/Reseaux/TCP et UDP",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:8,frontMatter:{sidebar_position:8},sidebar:"tutorialSidebar",previous:{title:"Mod\xe9le OSI",permalink:"/docs/Reseaux/Mod\xe9le OSI"},next:{title:"Iptables -Netfilter",permalink:"/docs/Reseaux/Iptables - Netfilter"}},d={},l=[{value:"Commande <code>nc</code> : Netcat pour les Connexions R\xe9seau",id:"commande-nc--netcat-pour-les-connexions-r\xe9seau",level:3},{value:"Commande <code>telnet</code> : Connexion \xe0 Distance en Mode Texte",id:"commande-telnet--connexion-\xe0-distance-en-mode-texte",level:3},{value:"Verifier port ouverts",id:"verifier-port-ouverts",level:3},{value:"Commande traceroute :",id:"commande-traceroute-",level:3},{value:"Commande tcpdump :",id:"commande-tcpdump-",level:3}];function a(e){const n={code:"code",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"TCP et UDP sont deux piliers des services internet : si vous avez rarement besoin de les manipuler directement cela peut vous d\xe9panner et vous aider \xe0 effectuer des diagnotics pr\xe9cis :"}),"\n",(0,r.jsx)(n.p,{children:"est ce que mon soucis est li\xe9 \xe0 un firewall ?\r\nest ce qu\u2019il est li\xe9 \xe0 un service pas lanc\xe9 ?\r\nest ce que la session TCP se monte bien ?"}),"\n",(0,r.jsx)(n.p,{children:"On doit \xeatre bien capable grace \xe0 un ping, telnet ou un tcpdump bien plac\xe9 de trouver directement l\u2019origine de la panne d\u2019un service applicatif."}),"\n",(0,r.jsx)(n.p,{children:"Voici les cas d\u2019usage de TCP :"}),"\n",(0,r.jsx)(n.p,{children:"transport fiable de donn\xe9e\r\nles paquets arrivent bien ordonn\xe9es\r\nil est s\xe9curisable"}),"\n",(0,r.jsx)(n.p,{children:"Voici les cas d\u2019usage d\u2019UDP :"}),"\n",(0,r.jsx)(n.p,{children:"faire du temps r\xe9el\r\n\xeatre tr\xe8s rapide\r\naccepter de perdre des donn\xe9es."}),"\n",(0,r.jsxs)(n.h3,{id:"commande-nc--netcat-pour-les-connexions-r\xe9seau",children:["Commande ",(0,r.jsx)(n.code,{children:"nc"})," : Netcat pour les Connexions R\xe9seau"]}),"\n",(0,r.jsxs)(n.p,{children:["La commande ",(0,r.jsx)(n.code,{children:"nc"})," (Netcat) est un outil en ligne de commande permettant la transmission de donn\xe9es sur un r\xe9seau. \xc0 la fois simple et puissante, elle peut \xeatre utilis\xe9e dans de nombreuses t\xe2ches li\xe9es au r\xe9seau. Cette le\xe7on couvre les utilisations fondamentales de la commande ",(0,r.jsx)(n.code,{children:"nc"}),"."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Utilisation de Base"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"\xc9tablir une Connexion"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"La commande nc peut \xe9tablir une connexion en utilisant une adresse IP cible et un num\xe9ro de port. Par exemple, pour se connecter \xe0 l'adresse IP 192.168.1.1 sur le port 8080 :"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"nc 192.168.1.1 8080\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Mode \xc9coute"}),"\r\n",(0,r.jsx)(n.code,{children:"nc"})," peut \xe9galement \xeatre utilis\xe9e pour \xe9couter un port sp\xe9cifique sur un syst\xe8me. Par exemple, pour \xe9couter le port 8080 :"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"nc -l 8080\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Transfert de Fichiers"}),"\r\n",(0,r.jsx)(n.code,{children:"nc"})," peut \xeatre utilis\xe9e pour le transfert de fichiers. Par exemple, pour envoyer le contenu d'un fichier vers le port 8080 dans local:"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"nc -l 192.168.1.2 8080 < fichier.txt\n"})}),"\n",(0,r.jsx)(n.p,{children:"Pour recuperer le fichier.txt en distance:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"nc 192.168.1.1 8080 > output.txt\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"commande-telnet--connexion-\xe0-distance-en-mode-texte",children:["Commande ",(0,r.jsx)(n.code,{children:"telnet"})," : Connexion \xe0 Distance en Mode Texte"]}),"\n",(0,r.jsxs)(n.p,{children:["La commande ",(0,r.jsx)(n.code,{children:"telnet"})," est un outil qui permet d'\xe9tablir une connexion \xe0 distance avec un serveur en utilisant le protocole Telnet. Bien que moins s\xe9curis\xe9 que d'autres m\xe9thodes, ",(0,r.jsx)(n.code,{children:"telnet"})," est toujours utilis\xe9 pour d\xe9panner des probl\xe8mes r\xe9seau et tester la connectivit\xe9. Cette le\xe7on couvre les bases de l'utilisation de la commande ",(0,r.jsx)(n.code,{children:"telnet"}),"."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\xc9tablir une Connexion"}),"\r\nPour se connecter \xe0 un serveur distant, utilisez une de les commandes suivante :"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"telnet adresse_ip port\r\ntelnet 192.168.1.1 80\r\ntelnet exemple.com 80\n"})}),"\n",(0,r.jsx)(n.p,{children:"Pendant une session Telnet, vous pouvez utiliser diff\xe9rentes commandes. Par exemple, pour fermer une session Telnet, utilisez :"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Ctrl + ] puis tapez quit\n"})}),"\n",(0,r.jsx)(n.p,{children:'La commande telnet n\'est g\xe9n\xe9ralement pas ex\xe9cut\xe9e en mode "\xe9coute". Telnet est principalement utilis\xe9 pour se connecter \xe0 un serveur ou \xe0 un p\xe9riph\xe9rique cible.'}),"\n",(0,r.jsx)(n.h3,{id:"verifier-port-ouverts",children:"Verifier port ouverts"}),"\n",(0,r.jsx)(n.p,{children:"Maintenant, \xe9crivons un script court qui teste les ports ouverts d'une machine distante."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'#!/bin/bash\r\n\r\n# Script de Test des Ports Ouverts\r\n\r\n# Adresse du serveur distant \xe0 tester\r\nserveur_distant="sameddemet.eddi.cloud"\r\n\r\n# Port de d\xe9part et de fin pour le test\r\nport_depart=1\r\nport_fin=8000\r\n\r\n# Boucle pour tester les ports dans la plage sp\xe9cifi\xe9e\r\nfor ((port=port_depart; port<=port_fin; port++)); do\r\n    # Utilisation de la commande nc pour tester la connexion au port sp\xe9cifi\xe9\r\n    nc -zv -w 1 $serveur_distant $port &>/dev/null &&\r\n        echo "Le port $port est ouvert"\r\ndone\r\n\n'})}),"\n",(0,r.jsxs)(n.p,{children:["Ce script utilise la commande ",(0,r.jsx)(n.code,{children:"nc"})," pour effectuer une analyse dans la plage de ports sp\xe9cifi\xe9e."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["L'option ",(0,r.jsx)(n.code,{children:"-z"})," n'\xe9tablit pas de connexion,"]}),"\n",(0,r.jsxs)(n.li,{children:["l'option ",(0,r.jsx)(n.code,{children:"-v"})," affiche une sortie d\xe9taill\xe9e,"]}),"\n",(0,r.jsxs)(n.li,{children:["l'option ",(0,r.jsx)(n.code,{children:"-w 1"})," r\xe8gle le d\xe9lai d'expiration de la connexion \xe0 1 seconde. Si la connexion n'est pas \xe9tablie dans un d\xe9lai d'une seconde, le processus se termine."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Il affiche ensuite sur l'\xe9cran que le port $port est ouvert si le port est effectivement ouvert."}),"\n",(0,r.jsx)(n.h3,{id:"commande-traceroute-",children:"Commande traceroute :"}),"\n",(0,r.jsxs)(n.p,{children:["La commande ",(0,r.jsx)(n.code,{children:"traceroute"})," est un outil utilis\xe9 pour suivre le chemin pris par les paquets \xe0 travers un r\xe9seau IP. Il est souvent utilis\xe9 pour diagnostiquer les probl\xe8mes de connectivit\xe9 r\xe9seau et pour visualiser la route qu'un paquet prend pour atteindre sa destination."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"sudo apt install traceroute\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"traceroute [options] [h\xf4te ou adresse IP]\n"})}),"\n",(0,r.jsx)(n.p,{children:"Exemple d'Utilisation;"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"traceroute google.fr\r\ntraceroute 8.8.8.8\n"})}),"\n",(0,r.jsxs)(n.p,{children:["N'h\xe9sitez pas \xe0 explorer davantage les options disponibles en consultant la documentation ou en utilisant la commande ",(0,r.jsx)(n.code,{children:"man traceroute"})," dans le terminal."]}),"\n",(0,r.jsx)(n.h3,{id:"commande-tcpdump-",children:"Commande tcpdump :"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"tcpdump"})," est un outil utilis\xe9 sur les syst\xe8mes Linux et d'autres syst\xe8mes de type Unix pour capturer, examiner et analyser le trafic r\xe9seau. Le format de base de la commande est le suivant :"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"tcpdump [options] [filter_expression]\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Options ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"-qni"})})," et Leurs Descriptions"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"-q"})}),' : Ex\xe9cute la commande en mode "Quiet" pour produire une sortie concise plut\xf4t que des d\xe9tails \xe9tendus.']}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"-n"})}),' : Fonctionne en mode "Numeric", affichant les adresses IP et les num\xe9ros de port sans r\xe9solution de noms.']}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"-i"})})," interface : Sp\xe9cifie l'interface r\xe9seau \xe0 \xe9couter. Par exemple, -i eth0 \xe9couterait le trafic sur l'interface r\xe9seau eth0."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Exemples d'Utilisation"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"tcpdump -qni eth0\r\nsudo tcpdump -qni any icmp\r\ntcpdump -i eth0 port 80\r\ntcpdump -i eth0 portrange 20-80\n"})})]})}function u(e={}){const{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},1151:(e,n,s)=>{s.d(n,{Z:()=>c,a:()=>o});var r=s(7294);const t={},i=r.createContext(t);function o(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);