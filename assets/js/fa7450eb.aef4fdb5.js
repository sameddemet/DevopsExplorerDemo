"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[412],{4401:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>c,default:()=>u,frontMatter:()=>t,metadata:()=>d,toc:()=>a});var r=n(5893),i=n(1151);const t={sidebar_position:4},c="System.d Services",d={id:"Systemes/Systemd Services",title:"System.d Services",description:"C'est en cr\xe9ant des services que nous pouvons d\xe9ployer des applications sur un serveur Linux :",source:"@site/docs/Systemes/Systemd Services.md",sourceDirName:"Systemes",slug:"/Systemes/Systemd Services",permalink:"/DevopsExplorerDemo/docs/Systemes/Systemd Services",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Edit Fichier",permalink:"/DevopsExplorerDemo/docs/Systemes/Edit Fichier"},next:{title:"Github Action Runner",permalink:"/DevopsExplorerDemo/docs/Systemes/Github Action Runner"}},l={},a=[];function o(e){const s={br:"br",code:"code",h1:"h1",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.h1,{id:"systemd-services",children:"System.d Services"}),"\n",(0,r.jsx)(s.p,{children:"C'est en cr\xe9ant des services que nous pouvons d\xe9ployer des applications sur un serveur Linux :"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Une application frontend statique aura g\xe9n\xe9ralement besoin d'un service HTTP pour servir les fichiers html/js/css."}),"\n",(0,r.jsx)(s.li,{children:"Une application backend devra \xeatre lanc\xe9e directement depuis un service systemd."}),"\n",(0,r.jsx)(s.li,{children:"Une application frontend de type SSR (server side rendering) devra aussi \xeatre pilot\xe9e avec un service."}),"\n",(0,r.jsx)(s.li,{children:"Un service permet de d\xe9ployer \xe0 distance notre serveur (Runner local ou ssh)."}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["Les services se trouvent dans (",(0,r.jsx)(s.code,{children:"/etc/systemd/system/"}),")."]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"systemctl list-units"})," ou > ",(0,r.jsx)(s.code,{children:"systemctl"})," : Liste les unit\xe9s systemd actuellement actives ou toutes les unit\xe9s du syst\xe8me."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"systemctl status apache2"})," : Affiche le statut du service Apache2, montrant s'il est en cours d'ex\xe9cution, inactif, etc."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"ss -nlpt"})," : Affiche les ports en \xe9coute sur le syst\xe8me."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"systemctl reload/restart apache2"}),' | "Restart" coupe et red\xe9marre le service, tandis que "reload" permet au service de continuer \xe0 fonctionner sans interruption en rechargeant la configuration.']}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"Nous avons cr\xe9\xe9 un service qui peut \xeatre ex\xe9cut\xe9 par l'utilisateur Student."}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ini",children:"[Unit]\r\nDescription=Pinger une adresse IP locale\r\nAfter=network.target\r\n\r\n[Service]\r\nType=simple\r\nUser=student\r\nExecStart=/bin/ping -i 10 -c 5 192.168.1.1\r\n\r\n[Install]\r\nWantedBy=default.target\n"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.code,{children:"sudo systemctl daemon-reload"})," :",(0,r.jsx)(s.br,{}),"\n","Cette commande permet de recharger le d\xe9mon systemd pour appliquer les modifications effectu\xe9es dans les fichiers de configuration des unit\xe9s, situ\xe9s dans le r\xe9pertoire ",(0,r.jsx)(s.code,{children:"/etc/systemd/system/"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.code,{children:"sudo systemctl enable ping-service.service"})," :",(0,r.jsx)(s.br,{}),"\n","Cette commande active le d\xe9marrage automatique du service de ping au d\xe9marrage du syst\xe8me. Ainsi, lorsque le syst\xe8me est red\xe9marr\xe9 ou si le service n'est pas actif pour une raison quelconque, cette commande garantit que le service est automatiquement lanc\xe9."]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.code,{children:"systemctl start ping-service.service"})," :",(0,r.jsx)(s.br,{}),"\n","Cette commande d\xe9marre le service de ping. Apr\xe8s avoir activ\xe9 le service avec la commande pr\xe9c\xe9dente, cette commande est utilis\xe9e pour d\xe9marrer effectivement le service."]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.code,{children:"grep -i user /etc/systemd/system/ping-service.service"})," :",(0,r.jsx)(s.br,{}),"\n","Cette commande v\xe9rifie l'information sur l'utilisateur dans le fichier d'unit\xe9 du service de ping. La r\xe9ponse ne doit pas indiquer \"root\", car il est g\xe9n\xe9ralement recommand\xe9 que le service s'ex\xe9cute sous un utilisateur sp\xe9cifique."]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.code,{children:"ps -ef | grep -i ping"})," : Cette commande v\xe9rifie l'information sur l'utilisateur dans le fichier d'unit\xe9 du service de ping. La r\xe9ponse ne doit pas indiquer \"root\", car il est g\xe9n\xe9ralement recommand\xe9 que le service s'ex\xe9cute sous un utilisateur sp\xe9cifique."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"Cr\xe9ation d'un service planifi\xe9 dans system.d/system ;"}),"\n",(0,r.jsx)(s.p,{children:"ping.service :"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ini",children:"[Unit]\r\nDescription=Service de Pinging\r\n\r\n[Service]\r\nExecStart=/chemin/vers/votre/script.sh\r\n#Restart=always\r\n\r\n[Install]\r\nWantedBy=multi-user.target\r\n\n"})}),"\n",(0,r.jsx)(s.p,{children:"ping.timer :"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ini",children:"[Unit]\r\nDescription=Minuteur de Pinging\r\n\r\n[Timer]\r\nOnBootSec=5min\r\nOnUnitActiveSec=5min\r\nOnCalendar= Il existe diff\xe9rents formats pour la planification !!!!\r\n\r\n[Install]\r\nWantedBy=timers.target\r\n\n"})})]})}function u(e={}){const{wrapper:s}={...(0,i.a)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},1151:(e,s,n)=>{n.d(s,{Z:()=>d,a:()=>c});var r=n(7294);const i={},t=r.createContext(i);function c(e){const s=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),r.createElement(t.Provider,{value:s},e.children)}}}]);