"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[5942],{2453:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>d,frontMatter:()=>a,metadata:()=>r,toc:()=>l});var s=t(5893),i=t(1151);const a={sidebar_position:3},o="Playbooks",r={id:"Ansible/Playbooks",title:"Playbooks",description:"Utilisation d'Ansible avec des Playbooks",source:"@site/docs/Ansible/Playbooks.md",sourceDirName:"Ansible",slug:"/Ansible/Playbooks",permalink:"/docs/Ansible/Playbooks",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Installation et Configuration d\u2019Ansible",permalink:"/docs/Ansible/Installation et Configuration d\u2019Ansible"},next:{title:"Int\xe9gration d'Ansible avec GitHub Actions",permalink:"/docs/Ansible/Int\xe9gration d'Ansible avec GitHub Actions"}},c={},l=[{value:"Utilisation d&#39;Ansible avec des Playbooks",id:"utilisation-dansible-avec-des-playbooks",level:2},{value:"Contenu du Fichier recette.yaml",id:"contenu-du-fichier-recetteyaml",level:3},{value:"Ex\xe9cution du Playbook",id:"ex\xe9cution-du-playbook",level:3}];function u(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"playbooks",children:"Playbooks"}),"\n",(0,s.jsx)(n.h2,{id:"utilisation-dansible-avec-des-playbooks",children:"Utilisation d'Ansible avec des Playbooks"}),"\n",(0,s.jsx)(n.p,{children:"Ces \xe9tapes vous montrent comment cr\xe9er et ex\xe9cuter un playbook Ansible pour effectuer des t\xe2ches sp\xe9cifiques sur un serveur/VM."}),"\n",(0,s.jsx)(n.p,{children:'\xc0 ce stade, l\'\xe9tat du r\xe9pertoire "ansible" est le suivant.'}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Output",src:t(3973).Z+"",width:"206",height:"106"})}),"\n",(0,s.jsx)(n.p,{children:"Cr\xe9ation du fichier de playbook:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cd playbooks && vim recette.yaml\n"})}),"\n",(0,s.jsx)(n.h3,{id:"contenu-du-fichier-recetteyaml",children:"Contenu du Fichier recette.yaml"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yml",children:'---\r\n- name: toto.txt\r\n  hosts: ansible-test\r\n  remote_user: root\r\n\r\n  tasks:\r\n    - name: create empty toto.txt file\r\n      ansible.builtin.file:\r\n        path: /etc/toto.txt\r\n        state: touch\r\n\r\n    - name: install needed packages\r\n      ansible.builtin.apt:\r\n        name: cowsay\r\n        state: present\r\n        update_cache: yes\r\n\r\n    - name: run a specific command\r\n      ansible.builtin.shell:\r\n        cmd: cowsay "hello DevOps"\n'})}),"\n",(0,s.jsx)(n.h3,{id:"ex\xe9cution-du-playbook",children:"Ex\xe9cution du Playbook"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ansible-playbook ./recette.yaml -l ansible-test\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["L'option -l est utilis\xe9e pour sp\xe9cifier le serveur ou groupe de serveurs sur lequel le playbook doit \xeatre ex\xe9cut\xe9. Dans cet exemple, nous limitons l'ex\xe9cution au serveur ",(0,s.jsx)(n.strong,{children:'"ansible-test"'}),". Sinon, (si il y a d'outre serveur dans notre ansible/etc/host) playbook serait ex\xe9cut\xe9 sur tous les h\xf4tes."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Les modules Ansible sont utilis\xe9s pour diff\xe9rentes t\xe2ches. Par exemple, pour installer une application, vous pouvez consulter la documentation en utilisant une commande telle que google ",(0,s.jsx)(n.strong,{children:'"ansible.apt"'})," pour acc\xe9der aux exemples."]}),"\n"]}),"\n"]})]})}function d(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},3973:(e,n,t)=>{t.d(n,{Z:()=>s});const s="data:image/png;base64,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"},1151:(e,n,t)=>{t.d(n,{Z:()=>r,a:()=>o});var s=t(7294);const i={},a=s.createContext(i);function o(e){const n=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);